

<!DOCTYPE html>
<html style='width:100%; height:100%; border:0; margin:0; padding:0;'>
  
  <head>    
    <meta http-equiv='X-UA-Compatible' content='chrome=1'></meta>
    <meta http-equiv='Content-Type' content='text/html;charset=utf-8'></meta>
    <title>MARVEL</title>
    
    <!-- ESTILOS DE LA LIBRERIA X3DOM -->
    <link rel='stylesheet' type='text/css' href='https://www.x3dom.org/download/x3dom.css'></link>
    <!-- LOGICA DE EL USO DE FIGURAS 3D CON X3DOM -->
    <script type='text/javascript' src='https://x3dom.org/release/x3dom.js'></script> 
         <!-- FUNCIONES DE FIREBASE -->
    <script src="https://www.gstatic.com/firebasejs/5.5.3/firebase.js"></script>
    
    <script> 
        
    </script>
  </head>
  
  <body style="width:100%; height:100%; border:0; margin:0; padding:0;">
    
    <!-- <div style="position:fixed;background:white;padding:16px;opacity:0.8;width:480px;z-index:10000">        
        <h1>Moving Objects with DOM Mouse Events</h1>
        
        <p style="font-size:140%">
        This example shows how you can program basic 3D interactions, using a few lines of HTML and javascript code.
        <br/>
        In this case, a simple, custom <strong>dragging</strong> functionality has been implemented.
        Objects can be dragged around with the mouse, and the dragging code supports snapping object positions to the grid.
        </p>
        
        
    </div>  -->
    
    <x3d id='x3dElement' style='width:100%; height:100%; border:0'        
        onmouseup  ="stopDragging();"
        onmousemove="mouseMoved(event);">
      <scene> 

        <!--view and navigation-->        
        <viewpoint position="5.09349 5.61586 13.27088" orientation="-0.71805 0.68885 0.09947 0.51301"></viewpoint>	
        <navigationInfo id="navInfo" type='"EXAMINE" "ANY"' typeParams="-0.4, 60, 0.5, 1.55"></navigationInfo>
        
        <!-- Super heroe MOONKNIGHT -->
        <transform id="moonKnight" translation="3 1 0" onmousedown="startDragging(this,'moonKnight');">
            <inline url="MoonKnightTextured.x3d"> </inline> 
        </transform>

        <!-- Personaje Capitana Marvel -->
        <transform id="captainMarvel" translation="10 1 0" onmousedown="startDragging(this,'moonKnight');" >
            <inline url="cm.x3d"> </inline> 
        </transform>

        <!-- CASA -->
        <Transform id="redBox">
            <inline url="building_04.x3d"> </inline> 
        </Transform>
        
      </scene>
    </x3d>

    <script>
        // Initialize Firebase
          const firebaseConfig = {
              apiKey: "AIzaSyAGrkPmca-fqsP9F_H0Nh05BHa3goufNfA",
              authDomain: "firefirst-2c0ab.firebaseapp.com",
              databaseURL: "https://firefirst-2c0ab-default-rtdb.firebaseio.com",
              projectId: "firefirst-2c0ab",
              storageBucket: "firefirst-2c0ab.appspot.com",
              messagingSenderId: "9143587968",
              appId: "1:9143587968:web:fa6cfa1ae7133694050265"
          };
          firebase.initializeApp(firebaseConfig);
      </script>

      <!-- Invocamos la logica de los movimientos de los personajes -->
      <script src="fire.js"></script>

    <script>
        document.getElementById('redBox').setAttribute('scale', '20 20 100');
        document.getElementById('moonKnight').setAttribute('scale', '9 9 9');
        document.getElementById('captainMarvel').setAttribute('scale', '9 9 9');
        // document.getElementById('moonKnight').setAttribute('translation', initPeron('moonKnight'));
        
        //Iniciamos los dos personajes con su respectivo ID
        initPeron('moonKnight');
        initPeron('captainMarvel');
        
        function changeColor(objs)
		{
            // console.log("COLOR")
            var newCol =   (Math.random() * (1 - 0) + 0) + " " + 
                            (Math.random() * (1 - 0) + 0) + " " + 
                            (Math.random() * (1 - 0) + 0);          
            document.getElementById(objs).setAttribute('diffuseColor', newCol);
		}
    </script>

    <!-- Nos ayudara a saber si una coleccion fue atualizada -->
    <script src="javascript/firebaseOn.js"></script>
        

    
  </body>
  
</html>

